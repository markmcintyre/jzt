<!DOCTYPE html>
<html>
	<head>
		<title>JZT</title>
	</head>
	<body>
		
		<header>
			<!--<h1>Mark's Test Thing</h1>-->
		</header>
		
		<canvas id="jzt" style="border: 1px solid blue;" width="320" height="320"></canvas>
		
		<script type="text/javascript" src="script/jzt.js"></script>
		<script type="text/javascript" src="script/board.js"></script>
		<script type="text/javascript" src="script/player.js"></script>
		<script type="text/javascript" src="script/input.js"></script>
		<script type="text/javascript" src="script/jzt-object.js"></script>
		<script type="text/javascript" src="script/built-ins.js"></script>
		<script type="text/javascript" src="script/basic.js"></script>
		<script type="text/javascript" src="script/script.js"></script>
		<script type="text/javascript" src="script/parser.js"></script>
		<script type="text/javascript" src="script/jztscript.js"></script>
		<script type="text/javascript" src="script/commands.js"></script>
		<script type="text/javascript" src="script/graphics.js"></script>
		<script type="text/javascript">
			var data = {
				
				title: 'First',
				author: 'Mark McIntyre',
				boards : [
					{
						name: 'Board 1',
						width: 20,
						height: 10,
						tiles: [
							'####################',
							'#        ##        #',
							'#        ##        #',
							'# #    # ## #    # #',
							'#        @@        #',
							'#        ##        #',
							'# #    # ##  ####  #',
							'#  ####  ## #    # #',
							'#        ##        #',
							'####################'
						],
						scripts: [
							{
								name: 'firstScript',
								script: 
								        '#move opp ccw cw ccw opp opp w 4\n' +
										'#move s 1\n' +
										'#char 148\n' +
										'#wait 5\n' +
										'#go west 5\n' +
										'#end\n' + 
										'#die\n' +
										'#end',
								lines: [
									':start',
									'#wait 10',
									//'#walk w',
									'#say "Hello, world!"',
									'#end',
									':thud',
									'#say "Oh, I seem to have walked into a wall."',
									'#end',
									':touch',
									'#lock',
									'#zap touch',
									'#say "You have touched me, sir."',
									'#unlock',
									'#end',
									':touch',
									'#lock',
									//'#restore touch',
									'#zap touch',
									'#say "You have touched me again!"',
									'#wait 5',
									'#say "And I kind of liked it..."',
									'#wait 5',
									'#say "Why don\'t you do it again?"',
									'#unlock',
									'#end',
									':touch',
									'#lock',
									'#say "Oh no! I\'m being teleported to another land!"',
									'#wait 5',
									'#char 178',
									'#char 177',
									'#char 176',
									'#die',
									/*'#go randf 1000',
									'#move e 5',
									'#move ccw cw opp opp n 4',
									'#say "\\"Hmmm...\\", he thinks."',
									'#wait 5',
									'#move West',
									'#move w',
									'#move south 2',
									'#move w',
									'#move w',*/
									'#say "This should not happen..."',
									'#wait 3',
									'#stand',
									'#move e',
									'#end',
									'#say "This won\'t \\"happen."'
								]
							}
						],
						jztObjects: [
							{
								name: 'First Object',
								x: 8,
								y: 8,
								speed: 3,
								spriteIndex: 1,
								foregroundColor: 'brightMagenta',
								script: 'firstScript'
							}/*,
							{
								name: 'Second Object',
								x: 8,
								y: 7,
								speed: 3,
								spriteIndex: 1,
								backgroundColor: 'brown',
								foregroundColor: 'brightGreen',
								script: 'firstScript'
							}*/
						]
						
					}
				],
				
				
			}
		
			jzt.debug.on = true;
			var canvas = document.getElementById('jzt');
			var game = new jzt.Game(canvas, data);
			game.run();
		</script>
		
	</body>
</html>