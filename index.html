<!DOCTYPE html>
<html>
	<head>
		<title>JZT</title>
	</head>
	<body>
		
		<header>
			<!--<h1>Mark's Test Thing</h1>-->
		</header>
		
		<canvas id="jzt" style="border: 1px solid blue;" width="640" height="480"></canvas>
		
		<script type="text/javascript" src="script/jzt.js"></script>
		<script type="text/javascript" src="script/board.js"></script>
		<script type="text/javascript" src="script/input.js"></script>
		<script type="text/javascript" src="script/basic.js"></script>
		<script type="text/javascript" src="script/script.js"></script>
		<script type="text/javascript" src="script/parser.js"></script>
		<script type="text/javascript" src="script/jztscript.js"></script>
		<script type="text/javascript" src="script/commands.js"></script>
		<script type="text/javascript" src="script/graphics.js"></script>
		<script type="text/javascript" src="script/things.js"></script>
		<script type="text/javascript">
			/*var data = {
				
				title: 'First',
				author: 'Mark McIntyre',
				startingBoard: 'Untitled',
				boards : [
				  	
				  	{"name":"Untitled","playerX":20,"playerY":8,"tiles":["WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0E","WL0E                                                                                        WTF9                                                            WL0E","WL0E                WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EFR20WL0E    WTF9                                                            WL0E","WL0E                WL0EFR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20WL0E    WTF9                                                            WL0E","WL0E                WL0EFR20WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EFR20WL0E    WTF9                                                            WL0E","WL0E                WL0EFR20WL0EFR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20WL0EFR20WL0E    WL0EWL0EWL0EWL0EWL0EWL0EWL0EWTF9WTF9WTF9WTF9WTF9WTF9WTF9        WL0E","WL0E                WL0EFR20WL0EFR20WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EFR20WL0EFR20WL0E    WL0E                    WL0E                        WTF9        WL0E","WL0E                WL0EFR20WL0EFR20WL0EFR20FR20FR20WL0EFR20FR20FR20WL0EFR20WL0EFR20WL0E    WL0E                                                WTF9        WL0E","WL0E                WL0EFR20WL0EFR20FR20FR20WL0EFR20FR20FR20WL0EFR20WL0EFR20WL0E    WL0E    WL0E                    WL0E                        WTF9        WL0E","WL0E                WL0EFR20WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EFR20WL0EFR20WL0E    WL0EWL0EWL0EWL0EWL0EWL0EWL0EWTF9WTF9WTF9WTF9WTF9WTF9WTF9        WL0E","WL0E                WL0EFR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20FR20WL0E    WL0E    BL0E    WL0EWL0EWL0E                                    WL0E","WL0E                WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EFR20WL0E            BL0E            WL0E                                    WL0E","WL0E                                                                                        WL0E    BL0E    WL0E    WL0E                                    WL0E","WL0E                                                                                        WL0EWL0EWL0EWL0EWL0E                                            WL0E","WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0E"],"doors":[],"scripts":[],"things":[{"serializationType":"Lion","spriteIndex":234,"x":24,"y":7,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":24,"y":8,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":25,"y":8,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":25,"y":7,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":26,"y":7,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":26,"y":8,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":27,"y":8,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":28,"y":8,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":28,"y":7,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":27,"y":7,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":24,"y":6,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":25,"y":6,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":26,"y":6,"color":"0C","speed":8},{"serializationType":"Lion","spriteIndex":234,"x":27,"y":6,"color":"0D","speed":8, intelligence:5},{"serializationType":"Lion","spriteIndex":234,"x":28,"y":6,"color":"0C","speed":8},{serializationType:'Centipede',spriteIndex:79,color:'09','x':6,'y':1,head:true, deviance: 3, intelligence:10},{serializationType:'Centipede',x:7,y:1,spriteIndex:79,color:'09',head:false},{serializationType:'Centipede',x:8,y:1,head:false},{serializationType:'Centipede',x:9,y:1,head:false},{serializationType:'Centipede',x:2,y:7,head:true}]},
					{dark: true, "north":"Board 1","south":"Board 1","name":"Board 2","playerX":13,"playerY":3,"tiles":["WL0EWL0EWL0EWL0EWL0E        WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0E","WL0E                                WL0EWL0E                                WL0E","WL0E                                WL0EWL0E        WL0AIW0AWL0EIW0A        WL0E","WL0E    WL0EWTF9WTF9        WL0E    WL0EWL0E    WL0E            FR20WL0E    WL0E","WL0E            WTF9                            BL0EBL0EFR20    FR20        WL0E","WL0E                                WL0EWL0E                    FR20        WL0E","WL0E    WL0E                WL0E    WL0EWL0E        WL0EWL0EWL0EWL0E    WL0EWL0E","WL0E        WL0EWL0EWL0EWL0E        WL0EWL0E    WL0E                WL0E    WL0E","WL0E            BL0C                WL0EWL0E                                WL0E","WL0EWL0EWL0EWL0EWL0EBL0D    WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0E"],"scripts":[{"name":"firstScript","script":"#say \"Hello, world!\"\n#move opp ccw cw ccw opp opp w 4\n#say \"\\\"Hmmm...\\\", the object thinks to itself.\"\n#move s 1\n#char 148\n#wait 5\n#go west 5\n#end\n:touch\n#die\n#end"},{"name":"secondScript","script":"#say \"Hello!\"\n#end\n:touch\n#lock\n#zap touch\n#say \"Hey there!\"\n#wait 5\n#say \"Nice day, huh?\"\n#unlock\n#end\n:touch\n#say \"I love life!\""}],"scriptables":[{"name":"First Object","spriteIndex":148,"x":3,"y":5,"color":"9D","speed":3,"script":"firstScript","scriptContext":{"commandIndex":-1,"currentLabels":{}},"messageQueue":[],"locked":false,"orientation":"West"}],"doors":[{x:13,y:5,color:'1F',targetBoard:'Board 1',doorId:1}]},
					{
						name: 'Board 1',
						playerX: 1,
						playerY: 1,
						east: 'Board 2',
						south: 'Board 2',
						west: 'Board 2',
						north: 'Board 2',
						tiles: [
							'WL0EWL0EWL0EWL0EWL0E        WL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0E',
							'WL0E                                WL0EWL0E                                WL0E',
							'WL0E                                WL0EWL0E        IW0AIW0AIW0EIW0A        WL0E',
							'WL0E    WL0EWT--WT--        WL0E    WL0EWL0E    WL0E    FR--FR--FR--WL0E    WL0E',
							'                WT--                BL0EBL0E            WT--WT--WT--WT--WT--WT--',
							'WL0E                                WL0EWL0E            FR--FR--FR--            ',
							'WL0E    WL0E                WL0E    WL0EWL0E        WL0EWL0EWL0EWL0E        WL0O',
							'WL0E        WL0EWL0E    WL0E        WL0EWL0E    WL0E                WL0E    WL0E',
							'WL0E                                WL0EWL0E                                WL0E',
							'WL0EWL0EWL0EWL0EWL0E    BL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0EWL0E'
						],
						doors: [
							{
								x: 18,
								y: 3,
								targetBoard: 'Board 2',
								doorId: 1,
								color: '1F'
							}
						],
						scripts: [
							{
								name: 'firstScript',
								script: '#end\n' +
										'#say \"Hello, world!\"\n' +
								        '#move opp ccw cw ccw opp opp w 4\n' +
										'#say \"\\\"Hmmm...\\\", the object thinks to itself.\"\n' +
										'#move s 1\n' +
										'#char 148\n' +
										'#wait 5\n' +
										'#go west 5\n' +
										'#end\n' +
										':touch\n' +
										'#die\n' +
										'#end\n' + 
										':shot\n' +
										'#say \"Oh no!\"\n' +
										'#wait 3\n' +
										'#shoot seek\n' + 
										'#end'
							},
							{
								name: 'secondScript',
								script: '#say \"Hello!\"\n' +
										'#end\n' +
										':touch\n' +
										'#lock\n' +
										'#zap touch\n' +
										'#say \"Hey there!\"\n' +
										'#wait 5\n' +
										'#say \"Nice day, huh?\"\n' +
										'#unlock\n' +
										'#end\n' +
										':touch\n' +
										'#say \"I love life!\"'
							}
						],
						things: [
							{
								serializationType: 'Scriptable',
								name: 'First Object',
								x: 8,
								y: 8,
								speed: 3,
								spriteIndex: 1,
								color: '9D',
								script: 'firstScript'
							},
							{
								serializationType: 'Lion',
								intelligence: 5,
								x: 3,
								y: 3
							}
						]
						
					}
				],
				
				
			}*/

			var data = localStorage['currentGame'];
			data = JSON.parse(data);
		
			jzt.debug.on = true;
			var canvas = document.getElementById('jzt');
			var game = new jzt.Game(canvas, data, function() {
				this.run();
			});
		</script>
		
	</body>
</html>