<!DOCTYPE html>
<html>
    <head>
        <title>JZT</title>
    </head>
    <body>

        <header>
            <h1>JZT: Nostalgic DOS Game</h1>
        </header>

        <canvas id="jzt" width="800" height="640" style="width: 800px; height: 640px"></canvas>

        <!--<script type="text/javascript" src="../script/preparation.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/jzt.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/basic.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/graphics.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/board.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/input.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/lexer.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/parser.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/things.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/jzt-script-commands.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/jzt-script-parser.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/jzt-script.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/audio.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/scroll.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/i18n.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/popup.js" charset="utf-8"></script>
        <script type="text/javascript" src="../script/file-management.js" charset="utf-8"></script>-->
        <script type="text/javascript" src="../script/thirdparty/lz-string-1.3.3.js" charset="utf-8"></script>
        <script type="text/javascript" src="jzt.min.js" charset="utf-8"></script>
        <script type="text/javascript">
            var data = localStorage['currentGame'],
                game;

            data = LZString.decompressFromUTF16(data);
            data = JSON.parse(data);

            game = new jzt.Game({
                canvasElement: document.getElementById('jzt'),
                onLoadCallback: function(success) {
                    if(success) {
                        this.run(data);
                    }
                },
                notificationListeners: [{
                    types: ['script-error', 'victory', 'game-over'],
                    callback: function (type, notification) {
                        alert('Notification received.\nType: ' + type + '\nNotification: ' + JSON.stringify(notification));
                    }
                }]
            });
        </script>

    </body>
</html>
